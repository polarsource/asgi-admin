{% import "macros/icons.html.jinja" as icons %}

{% macro copy(text, class = "") %}
  <button
    type="button"
    class="{{ class }}"
    _="
    on click call navigator.clipboard.writeText('{{ text }}')
    then add @disabled to me
    then toggle .hidden on <svg /> in me
    then wait 5s
    then toggle .hidden on <svg /> in me
    then remove @disabled from me
  "
  >
    {{ icons.clipboard("h-4 w-4") }}
    {{ icons.clipboard_document_check("h-4 w-4 hidden") }}
  </button>
{% endmacro %}
