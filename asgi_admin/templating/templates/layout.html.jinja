{% extends "base.html.jinja" %}
{% import "macros/icons.html.jinja" as icons %}

{% block body %}
  <div class="drawer lg:drawer-open">
    <input id="menu-toggle" type="checkbox" class="drawer-toggle" />
    <main class="drawer-content flex flex-col gap-4 p-4">
      <div class="flex flex-row items-center">
        <label for="menu-toggle" class="btn btn-ghost drawer-button lg:hidden">
          {{ icons.bars_3("h-4 w-4") }}
        </label>
        {% block breadcrumbs %}
          {% if breadcrumbs %}
            <div class="breadcrumbs text-sm">
              <ul>
                {% for breadcrumb in breadcrumbs %}
                  {% if breadcrumb.active %}
                    <li>{{ breadcrumb.label }}</li>
                  {% else %}
                    <li>
                      <a href="{{ breadcrumb.url }}">{{ breadcrumb.label }}</a>
                    </li>
                  {% endif %}
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        {% endblock %}
      </div>
      <div class="h-full w-full">{% block container %}{% endblock %}</div>
    </main>
    <aside class="drawer-side">
      <label
        for="menu-toggle"
        aria-label="close sidebar"
        class="drawer-overlay"
      ></label>
      <ul class="menu bg-base-200 text-base-content min-h-full w-60 p-4">
        {% for viewset in _asgi_admin_navigation %}
          <li>
            <a
              class="{{ 'menu-active' if _asgi_admin_current_route.is_nested(viewset) else '' }}"
              href="{{ url_for(viewset.get_index_view().route_name) }}"
              >{{ viewset.title }}</a
            >
          </li>
        {% endfor %}
      </ul>
    </aside>
  </div>
{% endblock %}
